<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ProTalk - Grammar Superheroes Quiz</title>
<style>
  body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: radial-gradient(circle at top, #1a0033, #000010);
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }
  .container { max-width: 850px; margin: auto; padding: 40px; text-align: center; }
  .hidden { display: none; }

  /* Welcome & Rules Page */
  .welcome-box, .rules-box {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    padding: 30px;
    color: #fff;
    box-shadow: 0 0 15px rgba(255,255,255,0.3);
  }
  .welcome-box h1, .rules-box h2 {
    font-size: 28px;
    margin-bottom: 15px;
    border-bottom: 2px solid #fff;
    padding-bottom: 10px;
  }
  button {
    background: #ff9800;
    border: none;
    padding: 12px 20px;
    margin-top: 20px;
    border-radius: 8px;
    font-size: 18px;
    color: #fff;
    cursor: pointer;
    transition: background 0.3s;
  }
  button:hover { background: #e68900; }

  /* Quiz Page */
  .quiz-box, .result-box {
    background: rgba(10,10,40,0.8);
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 0 25px #7b2ff7, 0 0 50px #f107a3;
    border: 3px solid #9b4dff;
    animation: pulseGlow 2s infinite alternate;
  }
  .quiz-header {
    font-size: 22px;
    margin-bottom: 10px;
    color: #ffda6b;
    text-shadow: 0 0 8px #ff9800, 0 0 15px #ffda6b;
  }
  h2 {
    font-size: 22px;
    margin-bottom: 12px;
    padding: 12px;
    border-radius: 12px;
    border: 2px solid #f107a3;
    box-shadow: inset 0 0 15px #f107a3, 0 0 20px #7b2ff7;
    animation: pulseText 3s infinite alternate;
  }
  .options {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-top: 15px;
  }
  .option-btn {
    background: transparent;
    border: 2px solid #7b2ff7;
    padding: 12px;
    font-size: 16px;
    border-radius: 12px;
    color: #fff;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 0 10px #7b2ff7;
    animation: glowButton 2s infinite alternate;
  }
  .option-btn:hover {
    background: #7b2ff7;
    box-shadow: 0 0 20px #f107a3, 0 0 40px #7b2ff7;
  }
  .correct {
    background: #00c853 !important;
    box-shadow: 0 0 20px #00ff88, 0 0 40px #00c853 !important;
    border-color: #00e676;
  }
  .wrong {
    background: #d50000 !important;
    box-shadow: 0 0 20px #ff1744, 0 0 40px #d50000 !important;
    border-color: #ff5252;
  }

  /* Circular Timer with Progress */
  #timerCircle {
    position: relative;
    width: 110px; height: 110px;
    margin: 10px auto;
  }
  #timerSvg { transform: rotate(-90deg); }
  #timerText {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    font-size: 18px; font-weight: bold; color: #fff;
    text-shadow: 0 0 6px #f107a3;
  }

  /* Surprise Modal */
  .modal {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.8);
    display: flex; justify-content: center; align-items: center;
    z-index: 999;
  }
  .modal-content {
    background: rgba(255,255,255,0.1);
    border: 2px solid #ff9800;
    border-radius: 15px;
    padding: 30px;
    text-align: center;
    color: #fff;
    box-shadow: 0 0 25px #ff9800, 0 0 60px #ffda6b;
    animation: popUp 0.6s ease-out;
  }
  @keyframes popUp {
    from { transform: scale(0.5); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }

  @keyframes pulseGlow {
    from { box-shadow: 0 0 15px #7b2ff7, 0 0 30px #f107a3; }
    to { box-shadow: 0 0 30px #f107a3, 0 0 60px #7b2ff7; }
  }
  @keyframes pulseText {
    from { text-shadow: 0 0 5px #f107a3, 0 0 10px #7b2ff7; }
    to { text-shadow: 0 0 15px #7b2ff7, 0 0 30px #f107a3; }
  }
  @keyframes glowButton {
    from { box-shadow: 0 0 5px #7b2ff7; }
    to { box-shadow: 0 0 20px #f107a3, 0 0 40px #7b2ff7; }
  }
</style>
</head>
<body>
  <div class="container">
    <!-- Welcome Page -->
    <div id="welcome" class="welcome-box">
      <h1>üé§ ProTalk - Grammar Superheroes Quiz ü¶∏</h1>
      <p>Welcome to <b>Room 2 challenge</b></p>
      <p>This quiz is about <b>Parts of Speech</b></p>
      <button onclick="showRules()">Start Quiz</button>
    </div>

    <!-- Rules Page -->
    <div id="rulesPage" class="hidden rules-box">
      <h2>üì¢ Instructions</h2>
      <ul style="text-align:left; display:inline-block;">
        <li>üì∑ Please <b>turn your camera on</b>.</li>
        <li>ü§ñ Do <b>NOT</b> use AI tools to find the answers.</li>
        <li>üß† Use your own brain and enjoy the challenge!</li>
        <li>‚è≥ Each question must be answered within <b>40 seconds</b>.</li>
      </ul>
      <div style="margin-top:30px;">
        <button onclick="startQuiz()">I Agree üëç</button>
      </div>
    </div>

    <!-- Quiz Page -->
    <div id="quiz" class="hidden quiz-box">
      <div class="quiz-header">‚ú® Parts of Speech Quiz ‚ú®</div>
      <div id="progress"></div>
      <div id="timerCircle">
        <svg id="timerSvg" width="110" height="110">
          <circle cx="55" cy="55" r="50" stroke="#333" stroke-width="8" fill="none"></circle>
          <circle id="progressCircle" cx="55" cy="55" r="50" stroke="#00ff88" stroke-width="8" fill="none"
            stroke-linecap="round" stroke-dasharray="314" stroke-dashoffset="0"></circle>
        </svg>
        <div id="timerText">40s</div>
      </div>
      <h2 id="question"></h2>
      <div class="options" id="options"></div>
      <p id="feedback"></p>
      <button id="next-btn" class="hidden" onclick="nextQuestion()">Next ‚û°Ô∏è</button>
    </div>

    <!-- Result Page -->
    <div id="result" class="hidden result-box">
      <h2>üèÜ Quiz Complete!</h2>
      <p id="score" style="font-weight:bold;"></p>
      <p id="message"></p>
      <p><b>üôè Thank you Shirley Wendy Yates for giving me the opportunity</b></p>
      <button onclick="restartQuiz()">Play Again</button>
      <button onclick="showSurprise()">Play More Quiz?</button>
    </div>

    <!-- Surprise Modal -->
    <div id="surpriseModal" class="hidden modal">
      <div class="modal-content">
        üéâ Questions complete! Go and do your office work üòÑ
        <br><br>
        <button onclick="closeSurprise()">Close</button>
      </div>
    </div>
  </div>

<script>
const totalCircumference = 314; // 2œÄr for r=50
let current=0, score=0, timer, timeLeft;
const timeLimit = 40;
const progressCircle=document.getElementById("progressCircle");

function showRules(){document.getElementById("welcome").classList.add("hidden");document.getElementById("rulesPage").classList.remove("hidden");}
function startQuiz(){document.getElementById("rulesPage").classList.add("hidden");document.getElementById("quiz").classList.remove("hidden");loadQuestion();}

const questions=[
 {q:"Which sentence contains a collective noun used incorrectly?",options:["The flock of birds flew away.","The team are arguing among themselves.","The jury was divided in their opinions.","The crowd cheers loudly."],answer:2},
 {q:"Identify the part of speech of the underlined word:\nShe spoke to me in a kind manner.",options:["Adjective","Adverb","Noun","Pronoun"],answer:0},
 {q:"Fill in with the correct article:\nI saw __ European tourist with __ honest guide near ___ Eiffel Tower.",options:["a, an, the","an, an, a","a, a, the","the, an, a"],answer:0},
 // more questions...
];

function loadQuestion(){
 const q=questions[current];
 document.getElementById("progress").innerText=`Question ${current+1} of ${questions.length}`;
 document.getElementById("question").innerText=q.q;
 const optionsDiv=document.getElementById("options");
 optionsDiv.innerHTML='';
 q.options.forEach((opt,i)=>{
   let btn=document.createElement("button");
   btn.innerText=opt;btn.classList.add("option-btn");
   btn.onclick=()=>checkAnswer(i,btn);
   optionsDiv.appendChild(btn);
 });
 document.getElementById("feedback").innerText='';
 document.getElementById("next-btn").classList.add("hidden");
 startTimer();
}

function startTimer(){
 clearInterval(timer);timeLeft=timeLimit;
 document.getElementById("timerText").innerText=`${timeLeft}s`;
 progressCircle.setAttribute("stroke-dasharray",totalCircumference);
 progressCircle.setAttribute("stroke-dashoffset",0);
 progressCircle.setAttribute("stroke","#00ff88");
 timer=setInterval(()=>{
   timeLeft--;
   document.getElementById("timerText").innerText=`${timeLeft}s`;
   let offset=(1-timeLeft/timeLimit)*totalCircumference;
   progressCircle.setAttribute("stroke-dashoffset",offset);
   if(timeLeft<15)progressCircle.setAttribute("stroke","#ff0000");
   else if(timeLeft<30)progressCircle.setAttribute("stroke","#ff9800");
   if(timeLeft<=0){clearInterval(timer);autoReveal();}
 },1000);
}

function autoReveal(){
 const q=questions[current];
 const optionsDiv=document.getElementById("options");
 document.getElementById("feedback").innerHTML='<span class="wrong">‚åõ Time up! Correct answer highlighted.</span>';
 optionsDiv.children[q.answer].classList.add("correct");
 Array.from(optionsDiv.children).forEach(b=>b.disabled=true);
 document.getElementById("next-btn").classList.remove("hidden");
}

function checkAnswer(i,btn){
 clearInterval(timer);
 const q=questions[current];
 const optionsDiv=document.getElementById("options");
 if(i===q.answer){btn.classList.add("correct");score++;document.getElementById("feedback").innerHTML='<span class="correct">‚úÖ Correct!</span>';}
 else{btn.classList.add("wrong");optionsDiv.children[q.answer].classList.add("correct");document.getElementById("feedback").innerHTML='<span class="wrong">‚ùå Wrong! Correct answer highlighted.</span>';}
 Array.from(optionsDiv.children).forEach(b=>b.disabled=true);
 document.getElementById("next-btn").classList.remove("hidden");
}

function nextQuestion(){current++;if(current<questions.length){loadQuestion();}else{showResult();}}
function showResult(){document.getElementById("quiz").classList.add("hidden");document.getElementById("result").classList.remove("hidden");document.getElementById("score").innerText=`You scored ${score} out of ${questions.length}`;document.getElementById("message").innerText=score===questions.length?"üåü Grammar Superhero! You nailed it!":"Keep training, young hero!";}
function restartQuiz(){current=0;score=0;document.getElementById("result").classList.add("hidden");document.getElementById("welcome").classList.remove("hidden");}
function showSurprise(){document.getElementById("surpriseModal").classList.remove("hidden");}
function closeSurprise(){document.getElementById("surpriseModal").classList.add("hidden");}
</script>
</body>
</html>
